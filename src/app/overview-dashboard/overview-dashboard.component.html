<div class="container" *ngIf="!loading">
  <h2>Inventory Overview Dashboard</h2>

  <!-- KPI Widgets -->
  <div class="kpi-grid">
    <div class="kpi-card">
      <span>Total Raw Materials in Stock</span>
      <h3>{{ kpis.totalRawMaterials }}</h3>
    </div>

    <div class="kpi-card">
      <span>Low Stock Alerts</span>
      <h3 class="low-stock">{{ kpis.lowStockAlerts }}</h3>
    </div>

    <div class="kpi-card">
      <span>Paint Batches Manufactured (This Month)</span>
      <h3>{{ kpis.batchesThisMonth }}</h3>
    </div>

    <div class="kpi-card">
      <span>Recent Purchases</span>
      <h3>{{ kpis.recentPurchasesCount }}</h3>
    </div>
  </div>

  <!-- Activity Panels -->
  <div class="activity">

    <!-- Recent Purchases -->
    <div class="panel">
      <h3>Recent Purchases</h3>
      <table>
        <thead>
        <tr>
          <th>Date</th>
          <th>Material</th>
          <th>Quantity</th>
          <th>Supplier</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let p of recentPurchases">
          <td>{{ p.dateOfPurchase | date:'dd/MM/yyyy' }}</td>
          <td>{{ p.materialName }}</td>
          <td>{{ p.quantityPurchased }}</td>
          <td>{{ p.supplierName }}</td>
        </tr>
        </tbody>
      </table>
      <button class="btn-link" (click)="viewAllPurchases()">View All Purchases</button>
    </div>

    <!-- Recent Manufacturing -->
    <div class="panel">
      <h3>Recent Manufacturing Activity</h3>
      <table>
        <thead>
        <tr>
          <th>Date</th>
          <th>Paint</th>
          <th>Batch No</th>
          <th>Quantity</th>
        </tr>
        </thead>
        <tbody>
<!--        <tr *ngFor="let m of manufacturingActivities">-->
<!--          <td>{{ m.date | date:'dd/MM/yyyy' }}</td>-->
<!--          <td>{{ m.paint }}</td>-->
<!--          <td>{{ m.batchNo }}</td>-->
<!--          <td>{{ m.quantity }}</td>-->
<!--        </tr>-->
        </tbody>
      </table>
      <button class="btn-link">
        View Manufacturing History
      </button>
    </div>

  </div>
</div>

<!-- Optional loading state -->
<div class="container" *ngIf="loading">
  <p>Loading dashboard...</p>
</div>
